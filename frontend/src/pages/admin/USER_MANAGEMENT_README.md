# Quáº£n lÃ½ NgÆ°á»i dÃ¹ng vÃ  NhÃ¢n viÃªn

## ğŸ¯ Tá»•ng quan

Há»‡ thá»‘ng quáº£n lÃ½ ngÆ°á»i dÃ¹ng vÃ  nhÃ¢n viÃªn cho Smart Pharmacy vá»›i cÃ¡c tÃ­nh nÄƒng:

- **Quáº£n lÃ½ NgÆ°á»i dÃ¹ng**: Quáº£n lÃ½ táº¥t cáº£ ngÆ°á»i dÃ¹ng trong há»‡ thá»‘ng (khÃ¡ch hÃ ng, nhÃ¢n viÃªn, quáº£n lÃ½, dÆ°á»£c sÄ©, admin)
- **Quáº£n lÃ½ NhÃ¢n viÃªn**: Quáº£n lÃ½ chuyÃªn biá»‡t cho nhÃ¢n viÃªn vá»›i thÃ´ng tin cÃ´ng viá»‡c chi tiáº¿t
- **PhÃ¢n quyá»n**: Há»‡ thá»‘ng phÃ¢n quyá»n chi tiáº¿t vá»›i permissions
- **Thá»‘ng kÃª**: Dashboard thá»‘ng kÃª ngÆ°á»i dÃ¹ng vÃ  nhÃ¢n viÃªn

## ğŸš€ TÃ­nh nÄƒng chÃ­nh

### 1. Quáº£n lÃ½ NgÆ°á»i dÃ¹ng (`/admin/users`)

#### ThÃ´ng tin cÆ¡ báº£n:
- Há» vÃ  tÃªn, email, sá»‘ Ä‘iá»‡n thoáº¡i, Ä‘á»‹a chá»‰
- Vai trÃ²: KhÃ¡ch hÃ ng, NhÃ¢n viÃªn, Quáº£n lÃ½, DÆ°á»£c sÄ©, Quáº£n trá»‹ viÃªn
- Tráº¡ng thÃ¡i hoáº¡t Ä‘á»™ng (Active/Inactive)

#### ThÃ´ng tin nhÃ¢n viÃªn:
- MÃ£ nhÃ¢n viÃªn (Employee ID)
- PhÃ²ng ban: BÃ¡n hÃ ng, Kho, Káº¿ toÃ¡n, DÆ°á»£c, Quáº£n lÃ½, IT, Marketing
- Chá»©c vá»¥: TÃ¹y theo phÃ²ng ban
- NgÃ y tuyá»ƒn dá»¥ng
- LÆ°Æ¡ng cÆ¡ báº£n

#### PhÃ¢n quyá»n:
- **Sáº£n pháº©m**: Xem, ThÃªm/sá»­a, XÃ³a
- **Danh má»¥c**: Xem, ThÃªm/sá»­a, XÃ³a
- **NgÆ°á»i dÃ¹ng**: Xem, ThÃªm/sá»­a, XÃ³a
- **ÄÆ¡n hÃ ng**: Xem, ThÃªm/sá»­a, XÃ³a
- **Tá»“n kho**: Xem, Cáº­p nháº­t, XÃ³a
- **BÃ¡o cÃ¡o**: Xem, Táº¡o
- **Há»‡ thá»‘ng**: Quáº£n lÃ½ nhÃ¢n viÃªn, Quáº£n lÃ½ cÃ i Ä‘áº·t

### 2. Quáº£n lÃ½ NhÃ¢n viÃªn (`/admin/staff`)

#### TÃ­nh nÄƒng Ä‘áº·c biá»‡t:
- **Lá»c theo vai trÃ²**: Chá»‰ hiá»ƒn thá»‹ nhÃ¢n viÃªn (staff, manager, pharmacist, admin)
- **PhÃ¢n bá»‘ phÃ²ng ban**: Biá»ƒu Ä‘á»“ phÃ¢n bá»‘ nhÃ¢n viÃªn theo phÃ²ng ban
- **Thá»‘ng kÃª chi tiáº¿t**: Sá»‘ lÆ°á»£ng nhÃ¢n viÃªn theo vai trÃ² vÃ  phÃ²ng ban
- **ThÃ´ng tin cÃ´ng viá»‡c**: NgÃ y tuyá»ƒn dá»¥ng, lÆ°Æ¡ng, chá»©c vá»¥

## ğŸ“Š Dashboard Thá»‘ng kÃª

### Thá»‘ng kÃª tá»•ng quan:
- **Tá»•ng ngÆ°á»i dÃ¹ng**: Táº¥t cáº£ ngÆ°á»i dÃ¹ng trong há»‡ thá»‘ng
- **Äang hoáº¡t Ä‘á»™ng**: NgÆ°á»i dÃ¹ng cÃ³ tráº¡ng thÃ¡i active
- **NhÃ¢n viÃªn**: Tá»•ng sá»‘ nhÃ¢n viÃªn (staff + manager + pharmacist + admin)
- **KhÃ¡ch hÃ ng**: Sá»‘ lÆ°á»£ng khÃ¡ch hÃ ng

### Thá»‘ng kÃª nhÃ¢n viÃªn:
- **Tá»•ng nhÃ¢n viÃªn**: Táº¥t cáº£ nhÃ¢n viÃªn
- **Äang lÃ m viá»‡c**: NhÃ¢n viÃªn active
- **Quáº£n lÃ½**: Manager + Admin
- **DÆ°á»£c sÄ©**: Pharmacist

### PhÃ¢n bá»‘ phÃ²ng ban:
- Biá»ƒu Ä‘á»“ phÃ¢n bá»‘ nhÃ¢n viÃªn theo phÃ²ng ban
- Progress bar hiá»ƒn thá»‹ tá»· lá»‡ pháº§n trÄƒm

## ğŸ”§ API Endpoints

### Users API (`/api/users`)

```javascript
// Láº¥y danh sÃ¡ch ngÆ°á»i dÃ¹ng
GET /api/users?page=1&limit=20&role=staff&isActive=true&search=john

// Láº¥y thá»‘ng kÃª
GET /api/users/stats

// Láº¥y thÃ´ng tin ngÆ°á»i dÃ¹ng
GET /api/users/:id

// Táº¡o ngÆ°á»i dÃ¹ng má»›i
POST /api/users
{
  "name": "John Doe",
  "email": "john@example.com",
  "password": "password123",
  "role": "staff",
  "employeeId": "EMP001",
  "department": "BÃ¡n hÃ ng",
  "position": "NhÃ¢n viÃªn bÃ¡n hÃ ng",
  "hireDate": "2024-01-01",
  "salary": 8000000,
  "permissions": ["read_products", "write_products"]
}

// Cáº­p nháº­t ngÆ°á»i dÃ¹ng
PUT /api/users/:id

// XÃ³a ngÆ°á»i dÃ¹ng
DELETE /api/users/:id

// Toggle tráº¡ng thÃ¡i
PATCH /api/users/:id/toggle-status

// Cáº­p nháº­t hÃ ng loáº¡t
PUT /api/users/bulk-update
{
  "userIds": ["id1", "id2", "id3"],
  "updateData": { "isActive": false }
}
```

## ğŸ¨ Giao diá»‡n

### User Management:
- **Báº£ng danh sÃ¡ch**: Hiá»ƒn thá»‹ thÃ´ng tin chi tiáº¿t vá»›i avatar, thÃ´ng tin liÃªn há»‡
- **Bá»™ lá»c nÃ¢ng cao**: Lá»c theo vai trÃ², phÃ²ng ban, tráº¡ng thÃ¡i
- **TÃ¬m kiáº¿m**: TÃ¬m theo tÃªn, email, mÃ£ nhÃ¢n viÃªn
- **Thao tÃ¡c**: Xem, sá»­a, xÃ³a, toggle tráº¡ng thÃ¡i
- **Bulk actions**: KÃ­ch hoáº¡t/táº¡m dá»«ng/xÃ³a hÃ ng loáº¡t

### Staff Management:
- **Dashboard thá»‘ng kÃª**: Cards hiá»ƒn thá»‹ sá»‘ liá»‡u quan trá»ng
- **PhÃ¢n bá»‘ phÃ²ng ban**: Progress bars vÃ  biá»ƒu Ä‘á»“
- **Báº£ng nhÃ¢n viÃªn**: ThÃ´ng tin cÃ´ng viá»‡c chi tiáº¿t
- **Lá»c chuyÃªn biá»‡t**: Chá»‰ hiá»ƒn thá»‹ nhÃ¢n viÃªn

### User Form:
- **ThÃ´ng tin cÆ¡ báº£n**: TÃªn, email, phone, Ä‘á»‹a chá»‰, vai trÃ²
- **Máº­t kháº©u**: Chá»‰ hiá»ƒn thá»‹ khi táº¡o má»›i
- **ThÃ´ng tin nhÃ¢n viÃªn**: MÃ£ NV, phÃ²ng ban, chá»©c vá»¥, ngÃ y tuyá»ƒn dá»¥ng, lÆ°Æ¡ng
- **PhÃ¢n quyá»n**: Checkbox groups theo danh má»¥c
- **Auto-set permissions**: Tá»± Ä‘á»™ng set quyá»n theo vai trÃ²

## ğŸ” Báº£o máº­t

- **Authentication**: YÃªu cáº§u Ä‘Äƒng nháº­p admin
- **Authorization**: Chá»‰ admin má»›i cÃ³ quyá»n truy cáº­p
- **Password hashing**: Sá»­ dá»¥ng bcrypt
- **Input validation**: Zod schema validation
- **SQL injection protection**: Mongoose ODM

## ğŸ“± Responsive Design

- **Mobile-first**: Tá»‘i Æ°u cho mobile
- **Tablet support**: Giao diá»‡n thÃ­ch á»©ng tablet
- **Desktop**: Tráº£i nghiá»‡m tá»‘t nháº¥t trÃªn desktop
- **Touch-friendly**: Buttons vÃ  controls dá»… cháº¡m

## ğŸš€ CÃ¡ch sá»­ dá»¥ng

### 1. Truy cáº­p trang quáº£n lÃ½:
```
http://localhost:5173/admin/users    # Quáº£n lÃ½ ngÆ°á»i dÃ¹ng
http://localhost:5173/admin/staff    # Quáº£n lÃ½ nhÃ¢n viÃªn
```

### 2. ThÃªm ngÆ°á»i dÃ¹ng má»›i:
1. Click "ThÃªm ngÆ°á»i dÃ¹ng" / "ThÃªm nhÃ¢n viÃªn"
2. Äiá»n thÃ´ng tin cÆ¡ báº£n
3. Chá»n vai trÃ² (tá»± Ä‘á»™ng set permissions)
4. Äiá»n thÃ´ng tin nhÃ¢n viÃªn (náº¿u cáº§n)
5. Chá»n permissions cá»¥ thá»ƒ
6. Click "Táº¡o má»›i"

### 3. Chá»‰nh sá»­a ngÆ°á»i dÃ¹ng:
1. Click icon "Chá»‰nh sá»­a" trong báº£ng
2. Cáº­p nháº­t thÃ´ng tin
3. Click "Cáº­p nháº­t"

### 4. Quáº£n lÃ½ tráº¡ng thÃ¡i:
- **Toggle switch**: Báº­t/táº¯t tráº¡ng thÃ¡i hoáº¡t Ä‘á»™ng
- **Bulk actions**: Cáº­p nháº­t hÃ ng loáº¡t

### 5. TÃ¬m kiáº¿m vÃ  lá»c:
- **Search box**: TÃ¬m theo tÃªn, email, mÃ£ NV
- **Advanced filters**: Lá»c theo vai trÃ², phÃ²ng ban, tráº¡ng thÃ¡i

## ğŸ”„ Workflow

### Táº¡o nhÃ¢n viÃªn má»›i:
1. **Táº¡o tÃ i khoáº£n**: ThÃ´ng tin cÆ¡ báº£n + vai trÃ²
2. **Set permissions**: Theo vai trÃ² hoáº·c custom
3. **ThÃ´ng tin cÃ´ng viá»‡c**: PhÃ²ng ban, chá»©c vá»¥, lÆ°Æ¡ng
4. **KÃ­ch hoáº¡t**: Toggle tráº¡ng thÃ¡i active

### Quáº£n lÃ½ permissions:
1. **Role-based**: Admin cÃ³ táº¥t cáº£ quyá»n
2. **Custom**: Set permissions cá»¥ thá»ƒ
3. **Department-based**: Quyá»n theo phÃ²ng ban

## ğŸ“ˆ Monitoring

### Thá»‘ng kÃª real-time:
- Sá»‘ lÆ°á»£ng ngÆ°á»i dÃ¹ng active/inactive
- PhÃ¢n bá»‘ theo vai trÃ² vÃ  phÃ²ng ban
- Lá»‹ch sá»­ Ä‘Äƒng nháº­p
- Hoáº¡t Ä‘á»™ng gáº§n Ä‘Ã¢y

### Reports:
- BÃ¡o cÃ¡o nhÃ¢n viÃªn theo phÃ²ng ban
- Thá»‘ng kÃª Ä‘Äƒng nháº­p
- PhÃ¢n tÃ­ch quyá»n háº¡n

## ğŸ› ï¸ Technical Stack

### Frontend:
- **React 18**: UI framework
- **Ant Design**: UI components
- **React Router**: Navigation
- **SweetAlert2**: Notifications
- **Day.js**: Date handling

### Backend:
- **Node.js**: Runtime
- **Express**: Web framework
- **MongoDB**: Database
- **Mongoose**: ODM
- **bcrypt**: Password hashing
- **JWT**: Authentication
- **Zod**: Validation

## ğŸ¯ Roadmap

### Phase 1 (Completed):
- âœ… Basic user management
- âœ… Staff management
- âœ… Role-based permissions
- âœ… Statistics dashboard

### Phase 2 (Future):
- ğŸ”„ Advanced reporting
- ğŸ”„ Audit logs
- ğŸ”„ Email notifications
- ğŸ”„ Bulk import/export
- ğŸ”„ Advanced search filters
- ğŸ”„ User activity tracking

## ğŸ“ Support

Náº¿u cÃ³ váº¥n Ä‘á» hoáº·c cáº§n há»— trá»£, vui lÃ²ng liÃªn há»‡:
- **Email**: admin@smartpharmacy.com
- **Phone**: 1900-xxxx
- **Documentation**: [Link to docs]
